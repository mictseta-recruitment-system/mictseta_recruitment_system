{% extends 'dashboard_base.html' %}

{% block title %}Job Applications {% endblock %}

{% block breadcrumbs %}


    <li class="breadcrumb-item " aria-current="page"><a href="/dashboard/" class="btn btn-outline p-0"> Dashboard </a></li>
    <li class="breadcrumb-item " ><a href="/dashboard/view_jobs/"  class="btn btn-outline p-0"> Jobs/Vacancy </a></li>
      {% if filtered %}
      <li class="breadcrumb-item " ><a href="/dashboard/job_details/{{applications.0.job.id}}/"  class="btn btn-outline p-0"> {{applications.0.job.title}}</a> </li>

      {% else %}
      <li class="breadcrumb-item " ><a href="/dashboard/view_jobs/"  class="btn btn-outline p-0"> all </a> </li>
      {% endif %}
      <li class="breadcrumb-item active" aria-current="page" ><a href="/dashboard/job_applications/"  class="btn btn-outline p-0"> Applications </a></li>
 {% endblock %}

{% block content %}
<style>
  /* Center modal on the screen */
.modal-dialog-centered {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh; /* Ensure the modal is centered even on shorter screens */
  margin: 0 auto; /* Center horizontally */
}

/* Additional modal styles for responsiveness */
.modal-dialog {
  max-width: 800px; /* Set a max width for large modals */
  width: 100%; /* Make sure the modal can resize */
}

/* Optional: Apply padding and margin adjustments to the modal content for better spacing */
.modal-content {
  padding: 20px;
  border-radius: 10px;
}

/* Optional: Adjust modal header for more clarity */
.modal-header {
  padding: 15px;
}

</style>
{% if applications %}
<div class="card shadow  mb-3 mt-5 bg-body rounded">

<div class="card-body">
    <h5 class=" d-flex  justify-content-between ">
      <span>  
          {{applications.0.job.title}}
      </span>
        <span> 
        {% if applications.0.job.current_step == 1 %}
            Current stage : Identify Vacancy
        {% elif applications.0.job.current_step == 2 %}
             Current stage : Requisition Process
        {% elif applications.0.job.current_step == 3 %}
             Current stage : Vacancy Advertisement 
        {% elif applications.0.job.current_step == 4 %}
             Current stage : Application Process
        {% elif applications.0.job.current_step == 5 %}
             Current stage : Screening and Nomination
        {% elif applications.0.job.current_step == 6 %}
             Current stage : Shortlisting and Interview
        {% elif applications.0.job.current_step == 7 %}
             Current stage : Verification and Approval 
        {% elif applications.0.job.current_step == 8 %}
             Current stage : Offer letter and Candidate Feedback
        {% elif applications.0.job.current_step == 9 %}
             Current stage : Vacancy Cylce Complete
        {% endif %}
      </span>
    </h5>
    <hr>
    <div class="stage">
    <div class="progress-container" id="progressBar">
        <div class="step">1</div>
        <div class="step">2</div>
        <div class="step">3</div>
        <div class="step">4</div>
        <div class="step">5</div>
        <div class="step">6</div>
        <div class="step">7</div>
        <div class="step">8</div>
        <div class="step">9</div>
    </div>
    <div class="label-container">
        <div class="label">Identifying</div>
        <div class="label">Requisition</div>
        <div class="label">Advertisement</div>
        <div class="label">Application</div>
        <div class="label">Screening</div>
        <div class="label">Interview</div>
        <div class="label">Verification</div>
        <div class="label">Offer</div>
        <div class="label">Complete</div>
    </div>

    <script>
        let current_step = {{applications.0.job.current_step}} ;
        let steps = document.querySelectorAll(".step");
        
        steps.forEach((step, index) => {
            if (index < current_step - 1) {
                step.classList.add("completed");
            } else if (index === current_step - 1) {
                step.classList.add("current");
            }
        });
    </script>
  </div>
  </div>

</div>

       <div class="row justify-content-center">

<div class="col-12 mt-4">
  <div class="card p-0 shadow mb-1 rounded">
    <div class="card-body">
      <ul id="applicants" class="list-group list-group-flush d-flex flex-row justify-content-between" style="cursor: pointer;">
        <li class="list-group-item emp-profile {% if applications.0.job.current_step == 5 %}{% elif applications.0.job.current_step == 5  %}{% else %}active{%endif%}" onclick="toggleV('applications')">All Applications</li>
        {% if applications.0.job.current_step <= 4 %}
        <li class="list-group-item emp-profile" style="background-color:lightgray;"><i class="fa fa-lock"></i> Filtered Applications
        </li>
        {% else %}
        <li class="list-group-item emp-profile" onclick="toggleV('filterd')">Filtered Applications
        </li>
        {% endif %}

        {% if applications.0.job.current_step <= 4 %}
        <li class="list-group-item emp-profile" style="background-color:lightgray;"><i class="fa fa-lock"></i> Shortlisting
        </li>
        {% else %}
        <li class="list-group-item emp-profile {% if applications.0.job.current_step == 5 %}active{% else %}{%endif%}"  onclick="toggleV('shortlistss')">Short-listed</li>
        {% endif %}

        {% if applications.0.job.current_step < 6 %}
        <li class="list-group-item emp-profile" style="background-color:lightgray;"><i class="fa fa-lock"></i> Interview
        </li>
        {% else %}
        <li class="list-group-item emp-profile" onclick="toggleV('interview')">Interview</li>
        {% endif %}

        {% if applications.0.job.current_step < 7 and applications.0.job.is_interviewed %}
          <li class="list-group-item emp-profile" style="background-color:lightgray;"><i class="fa fa-lock"></i> Selected
          </li>
        {% else %}
        <li class="list-group-item emp-profile" onclick="toggleV('selected')">Selected</li>
        
         {% endif %}

        {% if applications.0.job.current_step <= 4 %}
          <li class="list-group-item emp-profile" style="background-color:lightgray;"><i class="fa fa-lock"></i> Rejected
          </li>
        {% else %}
        <li class="list-group-item emp-profile" onclick="toggleV('on_hold')">Rejected</li>
        {% endif %}

        {% if applications.0.job.current_step <= 7 %}
          <li class="list-group-item emp-profile" style="background-color:lightgray;"><i class="fa fa-lock"></i> Onboarding
          </li>
        {% else %}
        <li class="list-group-item emp-profile" onclick="toggleV('approved')">Onboarding</li>
         <li class="list-group-item emp-profile" onclick="toggleV('approved')"></li>
         {% endif %}
      </ul>
    </div>
  </div>
</div>
<!-- %%%%%%%%%%%%%%%%%%5 -->
<div class="col-12 ">
          <div id="applications" {% if applications.0.job.current_step == 5 %} style="display:none;"  {% else %}  style="display:block;" {% endif %}>
            <div class="card shadow-lg  rounded">
                <div class="card-header d-flex justify-content-between " style="height:50px;">
                  {% if filtered %}
                    <h6><b>{{applications.0.job.title}} List</b></h6>
                  {% else %}
                  <h6><b>ALL Application List</b></h6>
                  {% endif %}
                  {% if filtered %}
                  <div>
                       <!--  <button class="btn btn-danger" onclick="auto_filter('{{applications.0.job.id}}','strict')">Strict filter</button> -->
                       {% if applications.0.job.current_step > 4 %}
                       {% if user.staffprofile.department == "HR" %}
                       <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#strict"> strict filter
                     </button>
                     {% endif %}
                              <div class="modal fade" id="strict" tabindex="-1" aria-labelledby="strict" aria-hidden="true">
                                <div class="modal-dialog modal-dialog-scrollable  modal-lg">
                                  <div class="modal-content">
                                    <div class="modal-header">
                                      <h1 class="modal-title fs-5" id="strict">Warning - strict filter</h1>
                                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                    </div>
                                    <div class="modal-body">
                                    <i class="fa fa-circle-info text-info"> </i> This will <b class="text-info">filter applications</b> using the <b class="text-info" >strict</b> method on all applicattions for <b class="text-info"> {{applications.0.job.title}}.</b><br>
                                    <hr>
                                    <h4><b>The  <b class="text-danger"> Strict</b> Filter checks the follwiong:</b></h4>
                                    <br>
                                    <ol>
                                      <li><b>Profile</b> - checks applications with complete profile information</li>
                                      <li><b>Soft skill filter</b> -  checks applications with required soft skills and proficency level </li>
                                      <li><b>Computer skill filter</b> - checks applications with required computer skills and proficency level</li>
                                      <li><b>academics filter</b> -  checks applications with required academic qualifications and must be completed</li>
                                      <li><b>experience filter</b> - checks applications with matching experience </li>
                                      <li><b>years experience filter</b> - checks applications wif years of experince is relavent to that of the vacancy </li>

                                      <li><b>description similarity filter</b> - looks for similarity between applicants cover letter and vacancy job description </li>

                                        <li><b>Applicant must complete:</b></li>
                                          <ul>
                                            <li> 1 or more softskills</li>
                                            <li> 1 or more computerskills</li>
                                             <li> 1 or more working expereince</li>
                                              <li> 1 or more qualifications</li>
                                               <li>must have address</li>
                                                <li>1 or more languages</li>
                                                 
                                          </ul>



                                     
                                    </ol>
                                    <i class="fa fa-circle-info text-info"> </i> This changes can be undone by selecting the<b class="text-danger"> Reset</b> button.<br>
                                    <i class="fa fa-circle-info text-info"> </i>  Are you sure you want to continue ?
                                    </div>
                                    <div class="modal-footer">
                                      <button type="button" class="btn btn-danger" data-bs-dismiss="modal">No</button>
                                      <button type="button" class="btn btn-success" onclick="auto_filter('{{applications.0.job.id}}','strict')">YES</button>
                                    </div>
                                  </div>
                                </div>
                              </div>
                       
                        <!-- <button class="btn btn-info" onclick="auto_filter('{{applications.0.job.id}}','standerd')">Standard filter</button> -->
                        {% if user.staffprofile.department == "HR" %}
                         <button type="button" class="btn btn-info" data-bs-toggle="modal" data-bs-target="#standard"> Standard filter
                          </button>
                          {% endif %}
                              <div class="modal fade" id="standard" tabindex="-1" aria-labelledby="standard" aria-hidden="true">
                                <div class="modal-dialog modal-dialog-scrollable  modal-lg">
                                  <div class="modal-content">
                                    <div class="modal-header">
                                      <h1 class="modal-title fs-5" id="standard">Warning - standard filter</h1>
                                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                    </div>
                                    <div class="modal-body">
                                    <i class="fa fa-circle-info text-info"> </i> this will <b class="text-primary">filter applications</b> using the <b class="text-primary">standard</b> method on all applicattions for <b class="text-primary"> {{applications.0.job.title}}.</b><br>
                                    <hr>
                                    <h4><b>The  <b class="text-primary"> Standard </b> Filter checks the follwiong:</b></h4>
                                    <br>
                                    <ul>
                                      <li><b>Profile</b> - checks applications with complete profile information</li>
                                      <li><b>Soft skill filter</b> -  checks applications with required soft skills </li>
                                      <li><b>Computer skill filter</b> - checks applications with required computer skills </li>
                                      <li><b>academics filter</b> -  checks applications with required academic qualifications</li>
                                      <li><b>experience filter</b> - checks applications with complete experience </li>
                                      <li><b>supporting documents filter</b> - checks applications with uploaded supporting documents </li>
                                     
                                    </ul>
                                   <i class="fa fa-circle-info text-info"> </i> This changes can be undone by selecting the<b class="text-danger"> Reset</b> button.<br>
                                  <i class="fa fa-circle-info text-info"> </i>   Are you sure you want to continue ?
                                    </div>
                                    <div class="modal-footer">
                                      <button type="button" class="btn btn-danger" data-bs-dismiss="modal">No</button>
                                      <button type="button" class="btn btn-success" onclick="auto_filter('{{applications.0.job.id}}','standerd')">YES</button>
                                    </div>
                                  </div>
                                </div>
                              </div>
                        {% else %}
                          {% if user.staffprofile.department == "LINE" %}
                            {% if applications|length >= 1 %}
                            <button type="button" class="btn btn-info" onclick="screening({{applications.0.job.id}})"> Start Screening and Nomination process
                            {% endif %}
                          {% endif %}
                          
                          </button>
                        {% endif %}
                       

                        {% if applications.0.job.is_filter %}
                        <!--   <button class="btn btn-dark" onclick="apply_filter('{{applications.0.job.id}}')"><i class="fa fa-check"></i> Apply filter</button> -->
                        {% if user.staffprofile.department == "HR" %}
                        <button type="button" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#apply"> <i class="fa fa-check"></i> Apply filter
                                </button>
                          {% endif %}     
                              <div class="modal fade" id="apply" tabindex="-1" aria-labelledby="apply" aria-hidden="true">
                                <div class="modal-dialog">
                                  <div class="modal-content">
                                    <div class="modal-header">
                                      <h1 class="modal-title fs-5" id="apply">Warning - apply filter</h1>
                                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                    </div>
                                    <div class="modal-body">
                                    <i class="fa fa-circle-info text-info"> </i> This will <b>apply</b> all <b>filters</b> that have been added on selected applications <br>
                                    <br>
                                   <i class="fa fa-circle-info text-info"> </i> This change cannot be reversed, Are you sure you want to continue ?
                                    </div>
                                    <div class="modal-footer">
                                      <button type="button" class="btn btn-danger" data-bs-dismiss="modal">No</button>
                                      <button type="button" class="btn btn-success" onclick="apply_filter('{{applications.0.job.id}}')">YES</button>
                                    </div>
                                  </div>
                                </div>
                              </div>
                           
                            <!-- <button class="btn btn-outline-info" onclick="reset_filter('{{applications.0.job.id}}')"> <i class="fa fa-cog"></i> Reset</button> -->
                               {% if user.staffprofile.department == "HR" %}
                              <button type="button" class="btn btn-outline-info" data-bs-toggle="modal" data-bs-target="#reset"> <i class="fa fa-cog"></i> Reset
                              </button>
                              {% endif %}
                              <div class="modal fade" id="reset" tabindex="-1" aria-labelledby="reset" aria-hidden="true">
                                <div class="modal-dialog">
                                  <div class="modal-content">
                                    <div class="modal-header">
                                      <h1 class="modal-title fs-5" id="reset">Warning - Reset filter</h1>
                                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                    </div>
                                    <div class="modal-body">
                                    <i class="fa fa-circle-info text-info"> </i> This will <b>reset</b> all <b>filters</b> that have been added on selected applications but not yet <b>Applied</b><br>
                                    <br>
                                    <i class="fa fa-circle-info text-info"> </i> This change cannot be reversed, Are you sure you want to continue ?
                                    </div>
                                    <div class="modal-footer">
                                      <button type="button" class="btn btn-danger" data-bs-dismiss="modal">No</button>
                                      <button type="button" class="btn btn-success"onclick="reset_filter('{{applications.0.job.id}}')">YES</button>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            {% if applications.0.job.hide_application %}
                               <!-- <button class="btn btn-outline-success" onclick="show_filter('{{applications.0.job.id}}')"> <i class="fa fa-eye"></i> Show</button> -->
                               {% if user.staffprofile.department == "HR" %}
                                  <button type="button" class="btn btn-outline-success" data-bs-toggle="modal" data-bs-target="#show"></i><i class="fa fa-eye"></i>  show
                              </button>
                              {% endif %}
                              <div class="modal fade" id="show" tabindex="-1" aria-labelledby="show" aria-hidden="true">
                                <div class="modal-dialog">
                                  <div class="modal-content">
                                    <div class="modal-header">
                                      <h1 class="modal-title fs-5" id="show">Warning - Show filtered applications </h1>
                                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                    </div>
                                    <div class="modal-body">
                                    <i class="fa fa-circle-info text-info"> </i> This will <b>show</b> all applications that have <b>filters applied</b> (moved to filtered stage or rejected)<br>
                                    <br>
                                    <i class="fa fa-circle-info text-info"> </i> Are you sure you want to continue ?
                                    </div>
                                    <div class="modal-footer">
                                      <button type="button" class="btn btn-danger" data-bs-dismiss="modal">No</button>
                                      <button type="button" class="btn btn-success" onclick="show_filter('{{applications.0.job.id}}')">YES</button>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            {% elif not applications.0.job.hide_application %}
                            <!--  <button class="btn btn-outline-danger" onclick="hide_filter('{{applications.0.job.id}}')"> <i class="fa fa-eye-slash"></i> Hide</button>
 -->                         {% if user.staffprofile.department == "HR" %}
                              <button type="button" class="btn btn-outline-success" data-bs-toggle="modal" data-bs-target="#hide"> <i class="fa fa-cog"></i><i class="fa fa-eye-slash"></i>  hide
                              </button>
                                {% endif %}
                              <div class="modal fade" id="hide" tabindex="-1" aria-labelledby="hide" aria-hidden="true">
                                <div class="modal-dialog">
                                  <div class="modal-content">
                                    <div class="modal-header">
                                      <h1 class="modal-title fs-5" id="hide">Warning - hide filtered applications </h1>
                                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                    </div>
                                    <div class="modal-body">
                                    <i class="fa fa-circle-info text-info"> </i> This will <b>hide</b> all applications that have <b>filters applied</b> (moved to filtered stage or rejected)<br> 
                                    <br>
                                    <i class="fa fa-circle-info text-info"> </i> Are you sure you want to continue ?
                                    </div>
                                    <div class="modal-footer">
                                      <button type="button" class="btn btn-danger" data-bs-dismiss="modal">No</button>
                                      <button type="button" class="btn btn-success" onclick="show_filter('{{applications.0.job.id}}')">YES</button>
                                    </div>
                                  </div>
                                </div>
                              </div>
                             
                            {% endif %}
                        {% endif %}
                  </div>
                  {% else %}
                  <!--   <div> 
                        <button class="btn btn-dark-outline" data-bs-toggle="modal" data-bs-target="#exampleModal"><i class="fa fa-cog"></i> </button>
                        <button class="btn btn-danger" onclick="auto_filter('all','strict')">Strict filter</button> -->
                    
                  {% endif %}
                       <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                      <div class="modal-dialog">
                        <div class="modal-content">
                          <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                          </div>
                          <div class="modal-body">
                            ...
                          </div>
                          <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-primary">Save changes</button>
                          </div>
                        </div>
                      </div>
                    </div>

                </div>

                <div class="card-body" style="overflow-x: scroll;"> 

                    <table id="application" class="table table-striped table-hover" style="width:100%">
                          <thead>
                              <tr>
                                  <th class="bg-dark text-white">Job Title</th>
                                  <th class="bg-dark text-white">Candidate</th>
                                  <th class="bg-dark text-white">status</th>
                                  <th class="bg-dark text-white">Date</th>
                                  <th class="bg-dark text-white">Action</th>
                                  
                              </tr>
                          </thead>
                          <tbody> 
                               
                          {% for application in applications %}
                          {% if application.status == "pending" and not application.hide %}
                            {% if application.is_filter %}
                              {% if application.filterd_out == True %}
                               <tr class="text-sucess" >
                                  <td class="text-success">{{application.job.title}}</td>
                                  <td class="text-success"> {{application.user.first_name}} {{application.user.last_name}}</td>
                                  <td class="text-success"><button class="btn btn-warning p-0">{{application.status}}</button></td>
                                  
                                 
                                  <td class="text-success">{{application.date}}</td>
                                  <td class="text-success"> <a href="{% url 'dashboard.jobsekeer_details' application.user.profile.uuid application.job.id %}" class="btn btn-primary p-1" data-bs-placement="top" title="view profile">
                                    <i class="fa fa-eye"> </i></a>
                                 <!--   <a onclick="move_to_shortlist({{application.id}})" class="btn btn-success p-1" data-bs-placement="top" title="Move to short list"><i class="fa fa-plus"> </i> short-list</a> -->
                               </td>
                              </tr>
                              {% elif application.filterd_out == False %} 
                               <tr class="text-danger text-danger"  >
                                  <td class="text-danger">{{application.job.title}}</td>
                                  <td class=" text-danger"> {{application.user.first_name}} {{application.user.last_name}}</td>
                                  <td class=" text-danger"><button class="btn btn-warning p-0">{{application.status}}</button></td>
                                  
                                 
                                  <td class=" text-danger">{{application.date}}</td>
                                  <td class=" text-danger"> <a href="{% url 'dashboard.jobsekeer_details' application.user.profile.uuid application.job.id %}" class="btn btn-primary p-1" data-bs-placement="top" title="view profile">
                                    <i class="fa fa-eye"> </i>
                                </a>
                                  <button class="btn btn-outline-danger p-0">{{application.reason}}</button>
                                 <!--   <a onclick="move_to_shortlist({{application.id}})" class="btn btn-success p-1" data-bs-placement="top" title="Move to short list"><i class="fa fa-plus"> </i> short-list</a> -->
                               </td>
                              </tr>
                              {%endif%}
                            {% else %}
                             <tr class="text-sucess" >
                                  <td class="">{{application.job.title}}</td>
                                  <td class=""> {{application.user.first_name}} {{application.user.last_name}}</td>
                                  <td class=""><button class="btn btn-warning p-0">{{application.status}}</button></td>
                                  
                                 
                                  <td class="">{{application.date}}</td>
                                  <td class=""> <a href="{% url 'dashboard.jobsekeer_details' application.user.profile.uuid application.job.id %}" class="btn btn-primary p-1" data-bs-placement="top" title="view profile">
                                    <i class="fa fa-eye"> </i></a>
                                 <!--   <a onclick="move_to_shortlist({{application.id}})" class="btn btn-success p-1" data-bs-placement="top" title="Move to short list"><i class="fa fa-plus"> </i> short-list</a> -->
                               </td>
                              </tr>
                            {% endif %}

                          {% endif%}
                              {% endfor %}                 
                          </tbody>
                          <tfoot>
                            <tr>      
                            </tr>
                          </tfoot>
                        </table>
                </div>
                <script >
                
                $(document).ready(function (){

                  new DataTable('#application');

                });

              </script>
             </div>
           </div> 



          <div id="filterd" style="display:none;">
            <div class="card shadow-lg mt-3 rounded">
                <div class="card-header d-flex justify-content-between " style="height:50px;">
                  <h6>Filtered Application List</h6> 
                  {% if filtered %}
                <!--   <button class="btn btn-warning" onclick="auto_move_to_shortlist('{{applications.0.job.id}}')">Auto Short-list</button> -->
                {% if user.staffprofile.department == "HR" %}
                  {% if not applications.0.job.scoreboard %}
                  <a href="{% url 'create_scoreboard' applications.0.job.id %}" type="button" class="btn btn-info" >edit Scoreboard
                    </a>
                  {% else %}
                    {% if not results %}
                   <a href="{% url 'create_scoreboard' applications.0.job.id %}" type="button" class="btn btn-info" >edit Scoreboard
                    </a>
                    {% endif %}
                  <!-- <button type="button" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#auto-shortlist">Submit list
                    </button> -->
                    {% endif %}
                {% endif %}
                  <div class="modal fade" id="auto-shortlist" tabindex="-1" aria-labelledby="auto-shortlist" aria-hidden="true">
                    <div class="modal-dialog">
                      <div class="modal-content">
                        <div class="modal-header">
                          <h1 class="modal-title fs-5" id="auto-shortlist">Warning - Auto Shortlisting</h1>
                          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                          <i class="fa fa-circle-info text-info"> </i> This will move all applications on ther <b class="text-primary">filtered</b> applications stage to <b class="text-primary">shortlist</b> stage.

                          <br>
                          <br>
                       <i class="fa fa-circle-info text-info"> </i> This changes cannot be <b class="text-danger">reversed.</b>  
                       <br>

                       <i class="fa fa-circle-info text-info"> </i>Are you sure you want to continue ?
                        </div>
                        <div class="modal-footer">
                          <button type="button" class="btn btn-danger" data-bs-dismiss="modal">No</button>
                          <button type="button" class="btn btn-success"  onclick="auto_move_to_shortlist('{{applications.0.job.id}}')" >YES</button>
                        </div>
                      </div>
                    </div>
                  </div>


                  {% endif %}
                </div>

                <div class="card-body" style="overflow-x: scroll;"> 

                    <table id="filterd-table" class="table table-striped table-hover" style="width:100%">
                          <thead>
                              <tr>
                          
                                  <th class="bg-dark text-white">Job Title</th>
                                    <th class="bg-dark text-white">Candidate</th>
                                  <th class="bg-dark text-white">status</th>
                                  <th class="bg-dark text-white">Date</th>
                                  <th class="bg-dark text-white">Action</th>
                                  
                              </tr>
                          </thead>
                          <tbody> 
                               
                          {% for application in applications %}
               
                          {% if application.filterd_out == True and application.is_filter_applied == True and application.status == 'pending' %}
                           <tr class="text-dark">
                              <td>{{application.job.title}}</td>

                                 <td> {{application.user.first_name}} {{application.user.last_name}}</td>
                                
                               
                                <td><button class="btn btn-warning p-0">{{application.status}}</button></td>
                               
                               

                              <td>{{application.date}}</td>
                              <td> 
                                {% if user.staffprofile.department == "HR" %}
                                 {% if applications.0.job.scoreboard %}
                                <a href="{% url 'dashboard.jobsekeer_details_score' application.user.profile.uuid application.job.id %}" class="btn btn-primary p-1" data-bs-placement="top" title="view profile">
                                <i class="fa fa-edit"> </i> Score</a>
                                {% endif %}
                                {% else %}
                                .
                                {% endif %}
                              <!--  <a onclick="move_to_shortlist({{application.id}})" class="btn btn-success p-1" data-bs-placement="top" title="Move to short list"><i class="fa fa-plus"> </i> short-list</a></td> -->
                          </tr>
                          {% endif%}

                              {% endfor %}                 
                          </tbody>
                          <tfoot>
                            <tr>      
                            </tr>
                          </tfoot>
                        </table>
                </div>
                <script >
                
                $(document).ready(function (){

                  new DataTable('#filterd-table');

                });

              </script>
             </div>
           </div> 

           <div id="shortlistss" {% if applications.0.job.current_step == 5 %} style="display:block;" {% else %} style="display:none;" {% endif %} >
            <div class="card shadow-lg mt-3 rounded">
                <div class="card-header d-flex justify-content-between " style="height:50px;">
                  <h6>ALL Short-Listed Candidates List List</h6> 
                {% if user.staffprofile.department == "LINE" and applications.0.job.current_step == 5 %}
                 <button class="btn btn-success" onclick="submit_short_list({{applications.0.job.id}})">
                   Approve shortlist
                 </button>
                 {% endif %}
                </div>

                <div class="card-body" style="overflow-x: scroll;"> 
                    <table id="shortlist-table" class="table table-striped table-hover" style="width:100%">
                          <thead>
                              <tr>
                                 <th class="bg-dark text-white">Job Title</th>
                                  <th class="bg-dark text-white">Candidate</th>
                                  <th class="bg-dark text-white">P. stage</th>
                                  <th class="bg-dark text-white">C. stage</th>
                                  <th class="bg-dark text-white">Points</th>
                                  <th class="bg-dark text-white">Action</th>
                                  
                              </tr>
                          </thead>
                          <tbody> 
                               
                          {% for application in applications %}
                          {% if application.status == "short_list" %}
                           <tr class="text-dark">
                              
                              <td>{{application.job.title}}</td>
                              <td>{{application.user.first_name}} {{application.user.last_name}}</td>
                              <td>{{application.previous_stage}}</td>
                              <td>{{application.current_stage}}</td>
                                  
                                {% for result in results %}
                                  {% if result.application == application %}
                                  <td>{{result.points}}</td>

                                  {% endif %}
                                {% endfor %}  
                              <td> 
                                {% if application.job.current_step == 6 %}
                                <button type="button" class="btn btn-success p-1" onclick="openModal('interview{{application.id}}','{{application.id}}')" data-bs-placement="top" title="Schedule interview">
                               <i class="fa fa-plus"></i> interview
                              </button>

                                <a class="btn btn-danger p-1"data-bs-toggle="modal" data-bs-target="#exampleModal{{application.id}}">
                                  <i class="fa fa-trash"></i> 
                                  Reject
                                </a>
                              {% endif %}
                                 <a href="{% url 'view_scoreboard' application.job.id application.id %}" class="btn btn-primary p-1" data-bs-placement="top" title="view profile">
                                <i class="fa fa-eye"> </i></a>
                              </td>
                          </tr>
                          {% endif %}
                              {% endfor %}                 
                          </tbody>
                          <tfoot>
                            <tr>      
                            </tr>
                          </tfoot>
                        </table>
                </div>
                <script >
                
                $(document).ready(function (){

                  new DataTable('#shortlist-table');

                });

              </script>
            </div>
             {% for application in applications %}
                         <!-- Your modal structure -->
    <div class="modal fade" id="interview{{application.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog ">
        <div class="modal-content ">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Set Interview</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="mb-3">
              <label for="exampleFormControlInput1" class="form-label">Title</label>
              <input type="text" class="form-control" id="exampleFormControlInput1" value="{{application.user.first_name}} {{application.user.last_name}} - {{application.user.email}}" disabled>
            </div>
            <div class="form-group w-100">
              <label for="endDate">Select Date</label>
              <input type="date" value="" class="form-control" id="date_time{{application.id}}">
            </div>
            <div class="d-flex justify-content-between">
              <div class="form-group w-100 m-1" style="position:relative;">
                <label for="start_time">Start Time:</label>
                <input class="form-control" value="" type="time" id="date_start_time{{application.id}}" value="" />
              </div>
              <div class="form-group w-100 m-1 " style="position:relative;" value="">
                <label for="end_time">End Time:</label>
                <input class="form-control" type="time" value="" id="date_end_time{{application.id}}" value="" />
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary" onclick="set_interview({{application.id}})">Save changes</button>
          </div>
        </div>
      </div>
    </div>

<div class="modal fade" id="exampleModal{{application.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel"><b>Rejection Note</b></h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
       <div class="form-group">
        <label for="message" class="form-label"><h6><i class="fa fa-circle-info text-info"> </i> Add Note or Message to outline Application Rejection</h6></label>
        <label for="message" class="form-label">message/note</label>
          <input class="form-control" type="text" id="message{{application.id}}" required></input>
       </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-danger" onclick="reject_applicantion({{application.id}})">Reject</button>
      </div>
    </div>
  </div>
</div>

                        {% endfor %}
           </div>   
       

    <div id="interview" style="display:none;">
            <div class="card shadow-lg mt-3 rounded">
                <div class="card-header d-flex justify-content-between " style="height:50px;">
                  <h6 class="d-flex justify-content-between">
                    <span>
                  ALL Interview Candidate List    
                    </span>
                    <a class="btn btn-primary" href="{% url 'create_interview_scoreboard' applications.0.job.id  %}"> create scoreboard</a>
                </h6> 
                </div>

                <div class="card-body" style="overflow-x: scroll;"> 
                    <table id="interview-table" class="table table-striped table-hover" style="width:100%">
                          <thead>
                              <tr>
                                  <th class="bg-dark text-white">Job Title</th>
                                  <th class="bg-dark text-white">Candidate</th>
                                  <th class="bg-dark text-white">C. stage</th>
                                  <th class="bg-dark text-white">Date</th>
                                  <th class="bg-dark text-white">start time</th>
                                  <th class="bg-dark text-white">end time</th>
                                  <th class="bg-dark text-white">status</th>

                                  <th class="bg-dark text-white">Action</th>
                                  
                              </tr>
                          </thead>
                          <tbody> 
                               
                          {% for interview in interviews %}
                          {% if interview.application.status == "interview" %}
                           <tr class="text-dark">
                             
                              <td>{{interview.application.job.title}}</td>
                              <td>{{interview.application.user.first_name}} {{interview.application.user.last_name}}</td>
                              <td>{{interview.application.current_stage}}</td>
                              <td>{{interview.date}}</td>
                              <td><b>{{interview.start_time}}</b></td>
                              <td><b>{{interview.end_time}}</b></td>
                              <td>{{interview.application.is_interviewed}}</td>
                              <td> 

                                {% if user.is_admin == True%}
                              <button type="button" class="btn btn-warning p-1 mb-1 mx-1" onclick="openModal1('interviews{{interview.id}}','{{interview.id}}')" data-bs-placement="top" title="Schedule interview">
                               <i class="fa fa-edit"> </i>
                               Reschedule
                              </button>
                                <a href="{% url 'dashboard.jobsekeer_details' interview.application.user.profile.uuid interview.application.job.id %}" class="btn btn-primary p-1 mx-1" data-bs-placement="top" title="View profile"><i class="fa fa-eye"></i></a> 

                              <a onclick="approve_interview({{interview.application.id}})" class="btn btn-success p-1 mx-1" data-bs-placement="top" title="Approve interview"><i class="fa fa-check"></i></a>
                              <a class="btn btn-danger p-1"data-bs-toggle="modal" data-bs-target="#exampleModals{{application.id}}">
                                  <i class="fa fa-trash"></i> 
                                  Reject
                                </a>
                              {% else %}
                              {% if interview.application.is_interviewed %}
                                  <button onclick="move_to_selected({{interview.application.id}})" class="btn btn-info p-1 mb-1 mx-1" >
                               <i class="fa fa-check"> </i>
                               Select
                              </button>

                                <a href="{% url 'interview_panel' interview.application.job.id interview.application.id %}" class="btn btn-primary p-1 mx-1" data-bs-placement="top" title="View profile"><i class="fa fa-eye"></i> view</a> 

                              {% else %}
                                 <button type="button" class="btn btn-warning p-1 mb-1 mx-1" onclick="openModal1('interviews{{interview.id}}','{{interview.id}}')" data-bs-placement="top" title="Schedule interview">
                               <i class="fa fa-edit"> </i>
                               Reschedule
                              </button>

                                <a href="{% url 'interview_panel' interview.application.job.id interview.application.id %}" class="btn btn-success p-1 mx-1" data-bs-placement="top" title="View profile"><i class="fa fa-eye"></i> start</a> 
                                {% endif %}
                              {% endif %}
                              </td>
                          </tr>
                          {% endif %}
                           <div class="modal fade" id="interviews{{interview.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog ">
        <div class="modal-content ">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Reschedule Interview</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="mb-3">
              <label for="exampleFormControlInput1" class="form-label">Title</label>
              <input type="text" class="form-control" id="exampleFormControlInput1" value="{{interview.application.user.first_name}} {{interview.application.user.last_name}} - {{interview.application.user.email}}" disabled>
            </div>
            <div class="form-group w-100">
              <label for="endDate">Select Date</label>
              <input type="date" value="{{interview.date}}" class="form-control" id="date_times{{interview.id}}">
            </div>
            <div class="d-flex justify-content-between">
              <div class="form-group w-100 m-1" style="position:relative;">
                <label for="start_time">Start Time:</label>
                <input class="form-control" value="{{interview.start_time}}" type="time" id="date_start_times{{interview.id}}" value="" />
              </div>
              <div class="form-group w-100 m-1 " style="position:relative;" value="">
                <label for="end_time">End Time:</label>
                <input class="form-control" type="time" value="{{interview.end_time}}" id="date_end_times{{interview.id}}" value="" />
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary" onclick="reschedule_interview({{interview.id}})">Save changes</button>
          </div>
        </div>
      </div>

    </div>

    <div class="modal fade" id="exampleModals{{application.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel"><b>Rejection Note</b></h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
       <div class="form-group">
        <label for="message" class="form-label"><h6><i class="fa fa-circle-info text-info"></i>  Add Note or Message to outline Application Rejection</h6></label>
        <label for="message" class="form-label">message - requied field</label>
          <input class="form-control" type="text" id="messages{{interview.id}}" required></input>
       </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-danger" onclick="reject_applicantion('{{interview.application.id}}', '{{interview.id}}')">Reject</button>
      </div>
    </div>
  </div>
</div>
                              {% endfor %}                 
                          </tbody>
                          <tfoot>
                            <tr>  

                            </tr>
                          </tfoot>
                        </table>
                       
                       
                </div>
          
                
                <script >
                
                $(document).ready(function (){

                  new DataTable('#interview-table');


                });

                  function openModal(modalId,appId) {
      var modalElement = document.getElementById(modalId);
      var modal = new bootstrap.Modal(modalElement);
       flatpickr("#date_end_time"+appId, {
                    enableTime: true,
                    noCalendar: true,
                    dateFormat: "H:i",
                  });
                  flatpickr("#date_start_time"+appId, {
                    enableTime: true,
                    noCalendar: true,
                    dateFormat: "H:i",
                  });
      // Show the modal
      modal.show();

      // Initialize datetimepicker once the modal is fully shown
     
    }
     function openModal1(modalId,appId) {
      var modalElement = document.getElementById(modalId);
      var modal = new bootstrap.Modal(modalElement);
       flatpickr("#date_end_times"+appId, {
                    enableTime: true,
                    noCalendar: true,
                    dateFormat: "H:i",
                  });
                  flatpickr("#date_start_times"+appId, {
                    enableTime: true,
                    noCalendar: true,
                    dateFormat: "H:i",
                  });
      // Show the modal
      modal.show();

      // Initialize datetimepicker once the modal is fully shown
     
    }
                
                

              </script>
            </div>
           </div> 


        <div id="on_hold" style="display:none;">
            <div class="card shadow-lg mt-3 rounded">
                <div class="card-header d-flex justify-content-between " style="height:50px;">
                  <h6>ALL Candidates Rejected</h6> 
                  <button class="btn btn-info" onclick="purge()">Purge List</button>
                </div>

                <div class="card-body" style="overflow-x: scroll;"> 
                    <table id="on_hold-table" class="table table-striped table-hover" style="width:100%">
                          <thead>
                              <tr>
                                    <th class="bg-dark text-white">Job Title</th>
                                     <th class="bg-dark text-white">P. stage</th>
                                    <th class="bg-dark text-white">C. stage</th>
                                  <th class="bg-dark text-white">Date</th>
                                  <th class="bg-dark text-white">App. status</th>
                               <th class="bg-dark text-white">Action</th>
                                  
                              </tr>
                          </thead>
                          <tbody> 
                               
                          {% for application in applications %}
                          {% if application.status == "rejected" %}
                           <tr class="text-dark">
                              <td>{{application.job.title}}</td>
                              <td>{{application.previous_stage}}</td>
                              <td>{{application.current_stage}}</td>
                              <td>{{application.date}}</td>

                                {% if application.status == 'rejected' %}
                                <td><button class="btn btn-danger p-0">{{application.status}}</button></td>
                                {% elif application.status == 'approved' %}
                                <td><button class="btn btn-success p-0">{{application.status}}</button></td>
                                {% elif application.status == 'interview' %}
                                <td><button class="btn btn-info p-0">{{application.status}}</button></td>
                                {% elif application.status == 'short-list' %}
                                <td><button class="btn btn-dark p-0">{{application.status}}</button></td>
                                {% elif application.status == 'pending' %}
                                <td><button class="btn btn-warning p-0">{{application.status}}</button></td>
                                {% else %}
                                <td><button class="btn btn-outline-info p-0">{{application.status}}</button></td>
                                {% endif %}

                              <td> 
                                <a href="{% url 'dashboard.jobsekeer_details' application.user.profile.uuid application.job.id %}" class="btn btn-primary p-1" data-bs-placement="top" title="View Profile"><i class="fa fa-eye"></i> </a> 
                                <a onclick="move_to_shortlist({{application.id}})" class="btn btn-warning p-1" data-bs-placement="top" title="Move to short list">short-list</a>
                              </td>
                          </tr>
                          {% endif %}
                              {% endfor %}                 
                          </tbody>
                          <tfoot>
                            <tr>      
                            </tr>
                          </tfoot>
                        </table>
                </div>
                <script >
                
                $(document).ready(function (){

                  new DataTable('#on_hold-table');

                });

              </script>
            </div>
      </div> 

      <div id="selected" style="display:none;">
            <div class="card shadow-lg mt-3 rounded">
                <div class="card-header d-flex justify-content-between " style="height:50px;">
                  <h6>ALL Candidates Selected</h6> 
                  {% if applications.0.job.current_step < 7 %}
                  <button class="btn btn-info" onclick="submit_selected_list({{applications.0.job.id}})">submit List</button>
                  {% elif applications.0.job.current_step == 7 and user.staffprofile.department == "CEO"  %}
                     <button class="btn btn-info" onclick="approve_selected_list({{applications.0.job.id}})">approve List</button>
                  {% endif %}
                </div>

                <div class="card-body" style="overflow-x: scroll;"> 
                    <table id="on_hold-table" class="table table-striped table-hover" style="width:100%">
                          <thead>
                              <tr>
                                    <th class="bg-dark text-white">Job Title</th>
                                     <th class="bg-dark text-white">P. stage</th>
                                    <th class="bg-dark text-white">C. stage</th>
                                  <th class="bg-dark text-white">Date</th>
                                  <th class="bg-dark text-white">App. status</th>
                               <th class="bg-dark text-white">Action</th>
                                  
                              </tr>
                          </thead>
                          <tbody> 
                               
                          {% for application in applications %}
                          {% if application.status == "Selected" %}
                           <tr class="text-dark">
                              <td>{{application.job.title}}</td>
                              <td>{{application.previous_stage}}</td>
                              <td>{{application.current_stage}}</td>
                              <td>{{application.date}}</td>

                                {% if application.status == 'rejected' %}
                                <td><button class="btn btn-danger p-0">{{application.status}}</button></td>
                                {% elif application.status == 'approved' %}
                                <td><button class="btn btn-success p-0">{{application.status}}</button></td>
                                {% elif application.status == 'interview' %}
                                <td><button class="btn btn-info p-0">{{application.status}}</button></td>
                                {% elif application.status == 'short-list' %}
                                <td><button class="btn btn-dark p-0">{{application.status}}</button></td>
                                {% elif application.status == 'pending' %}
                                <td><button class="btn btn-warning p-0">{{application.status}}</button></td>
                                {% else %}
                                <td><button class="btn btn-outline-info p-0">{{application.status}}</button></td>
                                {% endif %}

                              <td> 
                                <a href="{% url 'interview_panel' application.job.id application.id %}" class="btn btn-primary p-1 mx-1" data-bs-placement="top" title="View profile"><i class="fa fa-eye"></i> view</a> 
                                {% if application.job.current_step > 7 and application.job.is_selected_approved %}

                                <a onclick="move_to_shortlist({{application.id}})" class="btn btn-warning p-1" data-bs-placement="top" title="Move to short list">Send offer</a>
                                {% endif %}

                              </td>
                          </tr>
                          {% endif %}
                              {% endfor %}                 
                          </tbody>
                          <tfoot>
                            <tr>      
                            </tr>
                          </tfoot>
                        </table>
                </div>
                <script >
                
                $(document).ready(function (){

                  new DataTable('#selected-table');

                });

              </script>
            </div>
      </div> 

        <div id="approved" style="display:none;">
            <div class="card shadow-lg mt-3 rounded">
                <div class="card-header d-flex justify-content-between " style="height:50px;">
                  <h6>Approved Candidates List</h6> 
                </div>

                <div class="card-body" style="overflow-x: scroll;"> 
                    <table id="approved-table" class="table table-striped table-hover" style="width:100%">
                          <thead>
                              <tr>

                                    <th class="bg-dark text-white">Job Title</th>
                                    <th class="bg-dark text-white">P. stage</th>
                                    <th class="bg-dark text-white">C. stage</th>
                                    <th class="bg-dark text-white">Date</th>
                                    <th class="bg-dark text-white">App. status</th>
                                    <th class="bg-dark text-white">Action</th>
                              </tr>
                          </thead>
                          <tbody> 
                               
                          {% for application in applications %}
                          {% if application.status == "approved" %}
                           <tr class="text-dark">

                              <td>{{application.job.title}}</td>
                              <td>{{application.previous_stage}}</td>
                                                            <td>{{application.current_stage}}</td>
                              <td>{{application.date}}</td>
                              {% if application.status == 'rejected' %}
                                <td><button class="btn btn-danger p-0">{{application.status}}</button></td>
                                {% elif application.status == 'approved' %}
                                <td><button class="btn btn-success p-0">{{application.status}}</button></td>
                                {% elif application.status == 'interview' %}
                                <td><button class="btn btn-info p-0">{{application.status}}</button></td>
                                {% elif application.status == 'short-list' %}
                                <td><button class="btn btn-dark p-0">{{application.status}}</button></td>
                                {% elif application.status == 'pending' %}
                                <td><button class="btn btn-warning p-0">{{application.status}}</button></td>
                                {% else %}
                                <td><button class="btn btn-outline-info p-0">{{application.status}}</button></td>
                                {% endif %}
                              <td> <a href="{% url 'dashboard.jobsekeer_details' application.user.profile.uuid application.job.id %}"><i class="fa fa-eye"></i></a> </td>
                          
                          </tr>
                          {% endif %}
                              {% endfor %}                 
                          </tbody>
                          <tfoot>
                            <tr>      
                            </tr>
                          </tfoot>
                        </table>
                </div>
                <script >
                
                $(document).ready(function (){

                  new DataTable('#approved-table');

                });

              </script>
            </div>
           </div> 


        </div>



    
       </div>
        
       <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Function to set the minimum date and time
            function setMinDateTime() {
                // Get the current date and time
                var now = new Date();
    
                // Format the date in YYYY-MM-DD format
                var today = now.toISOString().split('T')[0];
    
                // Get the current time in HH:MM format
                var time = now.toTimeString().split(' ')[0].slice(0, 5);
    
                // Set the min attribute for the date input
                var dateInput = document.querySelector('input[type="date"]');
                if (dateInput) {
                    dateInput.setAttribute('min', today);
                }
    
                // Set the min attribute for the start time input
                var startTimeInput = document.querySelector('input[type="time"]#date_start_times{{interview.id}}');
                if (startTimeInput) {
                    startTimeInput.setAttribute('min', time);
                }
    
                // Set the min attribute for the end time input
                var endTimeInput = document.querySelector('input[type="time"]#date_end_times{{interview.id}}');
                if (endTimeInput) {
                    // If end time should be after the start time, set it accordingly
                    // This example assumes the end time should be after the start time
                    endTimeInput.setAttribute('min', time);
                }
            }
    
            // Call the function to set the minimum date and time
            setMinDateTime();
        });
    </script>
  {% else %}

      <h1>NO applications for this Vacancy Yet</h1>
  {% endif %}
  
    
{% endblock %}



