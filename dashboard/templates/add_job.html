{% extends 'dashboard_base.html' %}

{% block title%}
Add Job Ad
{% endblock %}
{% load static %}

<style>
  breadcrumb {
  display: flex;
  list-style: none;
  padding: 0;
  margin: 0;
  background-color: #f8f9fa;
  border-radius: 0.25rem;
}

.breadcrumb-item {
  display: flex;
  align-items: center;
}

.breadcrumb-item + .breadcrumb-item {
  padding-left: 0.5rem;
}

.breadcrumb-item + .breadcrumb-item::before {
  display: inline-block;
  padding-right: 0.5rem;
  color: #6c757d;
  content: "/";
}

.breadcrumb-item a {
  text-decoration: none;
  color: #007bff;
}

.breadcrumb-item.active {
  color: #6c757d;
}

.btn.btn-outline {
  display: inline-flex;
  align-items: center;
  padding: 0.375rem 0.75rem;
  font-size: 1rem;
  line-height: 1.5;
  border: 1px solid transparent;
  border-radius: 0.25rem;
  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
}

.btn.btn-outline:hover {
  color: #fff;
  background-color: #007bff;
  border-color: #007bff;
}

.breadcrumb-item i {
  margin-right: 0.5rem;
}
</style>

{% block breadcrumbs %}
<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item active" aria-current="page">
      <i class="fas fa-magnifying-glass"></i>Recruitment
    </li>
    <li class="breadcrumb-item active" aria-current="page">
      <i class="fa-solid fa-plus"></i>Add Job/Vacancy
    </li>
  </ol>
</nav>
{% endblock %}



{% block content %}

{% if user.is_staff %}

<div class="container mt-5">
  <div class="card shadow-sm">
    <div class="card-header text-white" style="background-color: black;">

      <h5 class="mb-0">Add Job Ad</h5>
    </div>
    <div class="card-body">
      <form>
        <div class="row">
          <div class="col-md-6 mb-3">
            <label for="jobTitle" class="form-label">Job Title</label>
            <select class="form-control" id="title">
              {% for job in job_titles %}
                <option value="{{job.id}}">{{job.title}}</option>
              {% endfor %}
            </select>
          </div>
          <div class="col-md-6 mb-3">
            <label for="industry" class="form-label">Industry</label>
            <select class="form-control" id="industry">
              {% for industry in industries %}
                <option value="{{industry.id}}">{{industry.name}}</option>
              {% endfor %}
            </select>
          </div>
        </div>

        <div class="mb-3">
          <label for="jobDescription" class="form-label">Job Description</label>
          <textarea class="form-control" id="description" rows="3"></textarea>
        </div>

        <div class="row">
          <div class="col-md-6 mb-3">
            <label for="location" class="form-label">Location</label>
            <select class="form-control" id="location">
              <option value="Johannesburg">Johannesburg</option>
        <option value="Pretoria">Pretoria</option>
        <option value="Cape Town">Cape Town</option>
        <option value="Durban">Durban</option>
        <option value="Port Elizabeth">Port Elizabeth</option>
        <option value="Bloemfontein">Bloemfontein</option>
        <option value="Pietermaritzburg">Pietermaritzburg</option>
        <option value="Polokwane">Polokwane</option>
        <option value="Nelspruit">Nelspruit</option>
        <option value="Kimberley">Kimberley</option>
        <option value="Rustenburg">Rustenburg</option>
        <option value="East London">East London</option>
        <option value="George">George</option>
        <option value="Tshwane">Tshwane</option>
        <option value="Vereeniging">Vereeniging</option>
        <option value="Soweto">Soweto</option>
        <option value="Mthatha">Mthatha</option>
        <option value="Umtata">Umtata</option>
        <option value="Klerksdorp">Klerksdorp</option>
        <option value="Worcester">Worcester</option>
        <option value="Stellenbosch">Stellenbosch</option>
        <option value="Harrismith">Harrismith</option>
        <option value="Middelburg">Middelburg</option>
        <option value="Ladysmith">Ladysmith</option>
        <option value="Burgersfort">Burgersfort</option>
        <option value="Thohoyandou">Thohoyandou</option>
        <option value="Kroonstad">Kroonstad</option>
        <option value="Wellington">Wellington</option>
        <option value="Ceres">Ceres</option>
            </select>
          </div>
          <div class="col-md-6 mb-3">
            <label for="salaryRange" class="form-label">Salary Range</label>
            <select class="form-control" id="salary_range">
              <option>R0,000 - R10,000</option>
              <option>R10,000 - R20,000</option>
              <option>R20,000 - R30,000</option>
              <option>R30,000 - R40,000</option>
              <option>R40,000 - R50,000</option>
              <option>R50,000 - R60,000</option>
              <option>R60,000+</option>
            </select>
          </div>
        </div>

        <div class="row">
          <div class="col-md-6 mb-3">
            <label for="endDate" class="form-label">End Date</label>
            <input type="date" class="form-control" id="end_date">
          </div>
          <div class="col-md-6 mb-3">
            <label for="jobType" class="form-label">Job Type</label>
            <select class="form-control" id="job_type">
              <option>Remote</option>
              <option>Permanent</option>
              <option>Contract</option>
              <option>Internship</option>
              <option>Temporary</option>
            </select>
          </div>
        </div>

        <div class="mb-3">
          <label for="assigned_to" class="form-label">Choose responsible HOD:</label>
          <input list="assigned_tos" class="form-control" name="assigned_to" id="assigned_to" placeholder="Select user here">
          <datalist id="assigned_tos">
            {% for emp in employees %}
              {% if emp.staffprofile.department == "HR" %}
                <option value="{{emp.email}}">{{emp.first_name}} {{emp.last_name}} - {{emp.staffprofile.department}}</option>
              {% endif %}
            
            {% endfor %}
          </datalist>
        </div>

        <div class="text-center">
          <button type="button" class="btn btn-primary" onclick="addJob()">Submit Job</button>
        </div>
      </form>
    </div>
  </div>
</div>

{% else %}

<div style="margin-top: 20%;">
  <div class="d-flex justify-content-center">
    <i class="fa fa-eye-slash fa-5x text-danger" aria-hidden="true"></i>
  </div>
  <div class="d-flex justify-content-center mt-5">
    <h5><b>Hold up</b>, You don't have <b class="text-danger">permission</b> to view the contents of this page.</h5>
  </div>
</div>

{% endif %}

{% endblock %}
